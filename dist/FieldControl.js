define(["react","TFS/WorkItemTracking/Services","VSS/Utils/Core"],function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=174)}({0:function(e,n){e.exports=t},106:function(t,e,n){var r,o,i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();r=[n,e,n(0),n(126)],void 0!==(o=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o._minWindowWidthDelta=10,o._windowResizeThrottleDelegate=r.throttledDelegate(o,50,function(){o._windowWidth=window.innerWidth,o.resize()}),o._windowWidth=window.innerWidth,$(window).resize(function(){Math.abs(o._windowWidth-window.innerWidth)>o._minWindowWidthDelta&&o._windowResizeThrottleDelegate.call(o)}),o}return i(e,t),e.prototype.render=function(){return null},e.prototype.componentDidMount=function(){this.resize()},e.prototype.componentDidUpdate=function(){this.resize()},e.prototype.resize=function(t){var e=function(){var t=document.getElementsByTagName("body").item(0);VSS.resize(null,t.offsetHeight)},n=r.throttledDelegate(this,t,e);t?n():e()},e}(n.Component);e.AutoResizableComponent=o}.apply(e,r))&&(t.exports=o)},126:function(t,e){t.exports=n},174:function(t,e,n){var r,o,i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){s.label=n[1];break}if(6===n[0]&&s.label<u[1]){s.label=u[1],u=n;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(n);break}u[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}};r=[n,e,n(95),n(106)],void 0!==(o=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return VSS.register(VSS.getContribution().id,{onLoaded:function(t){r._invalidate()},onUnloaded:function(t){r._setValue(null)},onFieldChanged:function(t){null!=t.changedFields[r.props.fieldName]&&r._invalidate()}}),r.initializeState(e),r}return i(e,t),e.getInputs=function(){return VSS.getConfiguration().witInputs},e.prototype.initializeState=function(t){this.state={}},e.prototype.onValueChanged=function(t){return s(this,void 0,void 0,function(){var e,r;return a(this,function(o){switch(o.label){case 0:return this._setValue(t),this._flushing=!0,[4,n.WorkItemFormService.getService()];case 1:e=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e.setFieldValue(this.props.fieldName,t)];case 3:return o.sent(),this._flushing=!1,[3,5];case 4:return r=o.sent(),this._flushing=!1,this._onError("Error in storing the field value: "+r.message),[3,5];case 5:return[2]}})})},e.prototype.getErrorMessage=function(t){return""},e.prototype._invalidate=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this._flushing?[3,2]:[4,this._getCurrentFieldValue()];case 1:t=e.sent(),this._setValue(t),e.label=2;case 2:return this.resize(),[2]}})})},e.prototype._getCurrentFieldValue=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(r){switch(r.label){case 0:return[4,n.WorkItemFormService.getService()];case 1:t=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t.getFieldValue(this.props.fieldName)];case 3:return[2,r.sent()];case 4:return e=r.sent(),this._onError("Error in loading the field value: "+e.message),[2,null];case 5:return[2]}})})},e.prototype._setValue=function(t){this.setState(u({},this.state,{value:t,error:this.getErrorMessage(t)}))},e.prototype._onError=function(t){this.setState(u({},this.state,{error:t}))},e}(r.AutoResizableComponent);e.FieldControl=o}.apply(e,r))&&(t.exports=o)},95:function(t,n){t.exports=e}})});